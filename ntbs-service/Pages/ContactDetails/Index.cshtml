@page "/ContactDetails/{Username?}"
@model ntbs_service.Pages.ContactDetails.IndexModel

@{
    Layout = "./_Layout";
    ViewData["Title"] = $"{Model.ContactDetails.DisplayName} contact details";
    var backLink = ViewData["Referer"];
}

<nhs-width-container container-width="Standard">
    <back-link-retaining-history inline-template>
        <nhs-back-link v-on:click="navigateBack" href="@backLink">Back</nhs-back-link>
    </back-link-retaining-history>
</nhs-width-container>

<partial name="_ContactDetailsPartial" model="@Model.ContactDetails"/>

@if (Model.ContactDetails.CaseManagerTbServices.Any())
{
    <partial name ="_TbServiceMembershipDetailsPartial" model="Model.ContactDetails.CaseManagerTbServices" />
}

@if (Model.RegionalMemberships.Any())
{
    <partial name="_RegionalMembershipDetailsPartial" model="@Model.RegionalMemberships"/>
}